# Requerimientos para sitio web Decomural


# Características Generales

* Vamos a hacer el plan para la construcción de un sitio web de la empresa Decomural. Todas las referencias a nombres de empresa deben señalar ese nombre.
* Se busca que el sitio web pueda ser construido usando tecnología AstroJS / Tailwind y ls tecnologías asociadas necesarias.
* Vamos a crear un archivo de definiciones pendientes en formato markdown en donde registraremos todas las ambigüedades, vacíos de definición o errores conceptuales que sea necesario aclarar para terminar exitosamente la planificación de este desarrollo.
* Vamos a usar como base una plantilla Astro llamada nextspace-astro
* El sitio web es para una empresa que comercializa papeles murales, pero solo los vende en tienda por lo tanto esto no es un ecommerce.
* Este sitio expone los productos para una posterior compra en tienda. Por lo tanto no existirá ningún CTA de tipo "Comprar"
* El producto es "papel mural" en diversas variantes.
* Los productos cuentan con imágenes de sample del papel mural y también hay imágenes de ambientes en donde se expone el uso de ese papel mural.
* Los productos están categorizados en base a linea, coleccion, color, patron.
* Hay varias líneas (Diseño,Personalizados,Infantiles,Vinilicos), cada línea puede tener una o varias colecciones, cada colección tienen múltiples SKU de papel mural pudiendo ser el total de SKU's por colección hasta 60 sku.
* patron puede contener valores como Abstracto, Floral, Animales, Texturas, Plano, Geométrico.
* Es importante que la estructura considere folders para separar archivos relacionados a una colección.
* es importante estructurar el proyecto para que en el futuro agregar o quitar colecciones sea relativamente simple.
* este sitio debe siempre considerar facilitar la configuración de etiquetas para SEO.



# Pages

El sitio tiene páginas principales:

* index :(existe mockup) es el home del sitio. Vamos a usar rigurosamente el mockup index.html y vamos a generar los componentes y elementos de Astro necesarios.
* colección : es la pagina que muestra las características generales de la colección. Mockup pendiente.
* catalogo (existe mockup): es la página que muestra los sku de la colección. Esta pagina tiene filtros y paginador. Siempre que se abre la página catálogo estará inicialmente restringida a una colección, pero si el usuario libera el filtro puede mostrar SKU de varias colecciones.
* puntos de venta : es una página informativa que muestra tarjetas con datos de los puntos de venta físico. Mockup pendiente.
* Es muy importante respetar el mockup en los casos que existe.


# Index

Segmentos de index.html:

Announcement Banner --> texto con anuncio relevante
Header & Mega Menu --> corresponde a nav bar y menu extendido contextual.

Hero Slider --> un slider con dos slides, cada slide expone una colección.
Collection Showcases --> cada tarjeta muestra una imagen y texto de una colección de esa linea. El
link de la tarjeta permite abrir la pagina Catalogo para mostrar los SKU de esa colección.
FAQ --> sección de preguntas frecuentes
Footer


# Catalogo
Segmentos de catalogo.html
Announcement Banner --> texto con anuncio relevante
Header & Mega Menu --> corresponde a nav bar y menu extendido contextual.

Breadcrumbs (Home – [Línea] – [Colección])
Hero Intro (eyebrow[Línea], H1[Colección], lede + “Leer más” toggle)
Filters + Result Count (pill filters above the grid)
Product Grid ([SKU ID],Stories of Life[Colección], cards rendered via JS)
Pagination (arrows + page numbers)
FAQ (four accordion items)
Footer (columns, newsletter, social/payments)

* En cada card se intentará mostrar una imagen de ambiente (ambiente=1) por default y una de sample (sample=1) on mouseover de acuerdo al comportamiento actual del mockup. Ambas imágenes del mismo código SKU.
* Si solo hay una imagen disponible solo se mostrará esa imagen.
* En todas las cards con imágenes en Catalogo, tanto en imágenes de sample como imagen de ambiente serán presentadas en ratio 1:1.
* el badge "Nuevo" se muestra cuando el sku tiene nueva=1 en el maestro de SKU del Excel.



# Collection (colección)
Mockup pending.
Segmentos de collection.html
Announcement Banner --> texto con anuncio relevante
Header & Mega Menu --> corresponde a nav bar y menu extendido contextual.
Breadcrumbs (Home – [Línea] – [Colección])
Hero Intro (eyebrow[Línea], H1[Colección], lede + “Leer más” toggle)
Collection Showcase ( varias imágenes de ambientes y simples de la colección en layout magazine de texto e imágenes)
CTA (para ir a catalogo de la colección)
Footer (columns, newsletter, social/payments)


# Blog
We will use the Bloq index and page currently available in the theme nextspace-astro



# Nav Bar

Actualmente tiene las opciones:

Diseños : Línea de productos con varias colecciones
Personalizados : Línea de productos con varias colecciones 
Infantiles: Linea de productos con varias colecciones
Vinilicos : Linea de productos con varias colecciones.
Cortinas y Persianas : URL externa
Blog : Indice de Blog. We Will use the /blog of nextspace-astro as a base.
Puntos de Venta : Página con sucursales, datos de los puntos de venta y distribuidores. We Will adapt the section /about of nextspace-astro as a base.

Las opciones Diseño,Personalizados,Infantiles,Vinilicos del Nav Bar corresponden a líneas de producto y abren un menú extendido contextual a cada línea. 
Cada menú extendido contextual tiene las siguientes opciones:
* colección : listado de colecciones de esa linea
* color : listado de colores existentes en una linea
* patrón : listado de patrones existentes en esa linea

La opción "Cortinas y Persianas" será un link a una URL externa. 
La opción "Blog" abre el índice de blog ya disponible en el theme nextspace-astro.
La opción "Puntos de Venta" abre una página que tiene un listado de puntos de venta. Mockup pendiente.





# Excel base CMS

We are using the file data.xlsx as a proposed CMS base for the site.
We are open for suggestions to include additional variables or label in the data.xlsx file. Example: SEO variables.
Any suggestion for new fields,labels,variables must be registered creating a copy of data.xlsx called datasuggestions.xlsx


## data.xlsx as source of data for the Index

For the index.html the file can be read as follows:

<!-- Segment: Announcement Banner -->
[announcement] is defined in the sheet "site" , columna Announcement_label

<!-- Segment: Header & Mega Menu -->

* Collections for the Mega Menu in context for each collection are listed in the sheet colección, columns Linea and Colección 


## Segment: Hero Slider

The sheet IndexheroSlides contains parameter for the slides at the hero slider

## Segment: Collection Showcase – Línea Diseños

The sheet CollectionShowcase, registers where CollectionShowcase=disenos  contains the label, texts and image file names for the 3 cards of the Collection Showcase – Línea Diseños

## Segment: Collection Showcase – Línea Personalizados

The sheet CollectionShowcase, registers where CollectionShowcase=personalizados  contains the label, texts and image file names for the 3 cards of the Collection Showcase – Línea Personalizados

## Segment: Collection Showcase – Línea Infantiles

The sheet CollectionShowcase, registers where CollectionShowcase=infantiles  contains the label, texts and image file names for the 3 cards of the Collection Showcase – Línea Infantiles

## Segment: Collection Showcase – Línea Vinílicos

The sheet CollectionShowcase, registers where CollectionShowcase=vinilicos  contains the label, texts and image file names for the 3 cards of the Collection Showcase – Línea Vinílicos

## Segment: FAQ

Is not yet defined the content of the section

## data.xlsx as source of data for Catalogo (catalogo.html mockup)


<!-- Segment: Announcement Banner -->
[announcement] is defined in the sheet "site" , columna Announcement_label

<!-- Segment: Header & Mega Menu -->

* Collections for the Mega Menu in context for each collection are listed in the sheet colección, columns Linea and Colección 

<!-- Segment: Breadcrumbs -->
Does not depend on the Excel file, the breadcrumbs muy reflect the level of linea and colección explored

<!-- Segment: Hero -->
The texts of the Hero segment following the structure of the mockup catalog.html  are described in the sheet catalogohero 

<!-- Segment: Filters & Results Header -->





# Suggestions for building the Project 

Astro + Content Collections (recommended)

Astro’s content collections give you schema validation, great performance, and structured metadata.
Each SKU becomes an .md or .json file in src/content/wallpapers/.
You get:
Automatic TypeScript typing
Built-in image optimization
Fast static build
Easy querying on pages


# Testing images for development / MVP

folder with testing images are available in the Project folder.
the mapping of theses images is available in the sheet sku of the CMS Excel.



# Tratamiento de imágenes: complementary script

There are currently several image folders, each folder related to a particular collection. 
The file data.xlsx , sheet sku contains the columns:

linea
coleccion
color
patron
habitacion
filename
sample
ambiente
disponible
código
nueva
error

The file data.xlsx , sheet coleccion contains the columns:

Linea
Coleccion
HeroSlider
HeroSliderEyebrow
HeroSliderTitle
HeroSliderDescription
HeroSliderCTA
folder: the folder where are stored the imagen of the collection


* Many images for testing have been registered manually in the Excel file, sheet sku.
* Other images Will be registered using a complementary script in the future.
* Currently in the Project folder there are image folders for the collections:

Stories of life ok
Elements II ok
Textum
Rafias
Mia + Paul
Antique
Aves
Botanical
Doodledo
Happy
Smalltalk
Muravinil
error
Muraltec








# Complementary script

Later as a future improvement we will create a script that will explore, classify and register the images in each folder that follow a name structure.
The script will register the files in the sheet sku of the file data.xlsx.
Any new register in the sheet sky Will mantain the existing data.
The sheet contains the columns:
linea
coleccion
color
patron
habitacion
filename
sample
ambiente
disponible
código
nueva
error


The complementary script will follow the rules:

* register the image files .webp , .png or .jpg files
* columns like color, patron are set "default"
* columna filename has the name of the file
* columna disponible = 1
* linea = linea de la colección a la que pertenece el sku
* colección = colección a la que pertenece el sku
* if the name of the file is only a number / sequence of digits , that number is the code of the sku
* the column código contains the code determined from the name of the file.
* if the name of the file only contains the code, the column sample = 1 and the column ambiente = 0
* if the name of the file in the code plus a "_" or a "-" and another number or digit,it is assumed that the number before the "_" or "-" is still the code, then the column sample = 1 and the column ambiente = 1.
* if the name of the file has a reference to its size like number x number, then sample = 0 and ambiente = 1. Still the number before the "_" or "-" is the code.
* ignore all the files that are not images.
* for all the columns, 1 means true and 0 means false. 1 and 0 are used for simplicity in the file.
* if all the rules can be clearly applied , the column error = 0
* if any amboguity is detected, error = 1




# Additional Questions to Include in the Specification (Ambiguities / Risks / Missing Decisions)


1. Modelado de datos (linea → colección → SKU)

¿Cuál es la fuente de verdad final para la jerarquía línea–colección–SKU: el Excel, carpetas de imágenes o un sistema posterior?
Para el tiempo de desarrollo vamos a usar el archivo Excel y vamos a construir la estructura de archivos adecuada para sostener el sitio. Vamos a asumir que cuando el sitio esté en productivo tendrá todas las carpetas y archivos de imagen que necesita para funcionar.

¿Qué sucede si una colección pertenece a dos líneas? ¿Está permitido?
No esta permitido.

¿Qué reglas rigen la unicidad de un SKU?
— ¿El “código” es único globalmente, por línea, o por colección?
Es único globalmente

¿Existen colecciones con nombres duplicados entre líneas? Si sí, ¿cómo se resuelve el namespace?
No existen colecciones con nombres duplicados.

2. Estructura de archivos / content collections

¿Cada colección tendrá un folder único con un nombre estandarizado?
Cada colección tendrá un folder único.
— ¿Cómo actuamos si el nombre de la carpeta no coincide con el nombre oficial de la colección?
Podemos diseñar un archivo que mantiene el nombre de folder para cada colección.


¿Es obligatorio que el folder contenga solo imágenes de esa colección?
si
— ¿Qué pasa si vienen mezcladas?
no estarán mezcladas

¿Qué metadatos deben vivir en frontmatter del SKU y cuáles deben vivir en archivos externos (ej: JSON centralizado)?
Hay que sugerir la mejor solución.

3. Tratamiento de imágenes y optimización

¿Cuál es la resolución mínima y máxima aceptada para imágenes 1:1?
no hay reglas de resolución mínima y máxima, se puede sugerir.

¿Se almacenará una sola versión de la imagen o el build generará variantes optimizadas (webp, responsive sizes)?
hay que sugerir una respuesta.

¿Existe un estándar obligatorio de naming convention para nuevas imágenes? Si no, ¿cómo controlar la calidad?
vamos a sugerir un estandar

4. Filtros y paginación

¿Los filtros funcionan como AND (intersección) o OR (unión)?
Ej: color=azul + patrón=geométrico → ¿debe cumplir ambos?
si , como AND

¿Cuál es el número máximo de SKU por página antes de paginar?
20

¿La paginación es estática (generada en build) o dinámica (client-side)?

Se debe determinan considerando que:
1. Los filtros son mandatorios.
2. Existirán aproximadamente 15 colecciones con entre 40 y 60 SKU en cada colección, lo que resulta en aproximadamente 1000 imágenes.

5. URLs y estructura de rutas

¿Qué ocurre si se renombra una colección? ¿La URL antigua debe redirigir (301)?
si


6. Mockups como fuente obligatoria

Cuando no existan mockups (colección, puntos de venta), ¿cuál es la jerarquía de decisión?

- Se va a usar como base una pagina existente en el theme astro y si no existe se va a crear un mockup.

7. Mega menú contextual

¿La data del mega menú se genera automáticamente desde el dataset o será un archivo estático?
hay que sugerir la mejor solucion

¿Qué pasa si una línea no tiene colores definidos? ¿Ocultamos la categoría “Color” o mostramos una lista vacía?
la linea tiene tantos colores como SKU tiene asignados. Los SKU siempre tendrán color o al menos el valor "default"

¿Cuál es el comportamiento del menú en mobile? No está descrito.
Se debe desplegar en mobile un menú compatible con esos dispositivos.

8. SEO (decisiones aún no definidas)

¿Cuál es el mecanismo para meta tags: por página, por colección, por SKU?
por página

¿Habrá OpenGraph para cada SKU?
no

¿Se generarán sitemaps por línea/colección o un sitemap único?
único

9. Integración futura con datos reales

¿El Excel se convertirá en un CMS manual (Content Collections), un CMS externo o un pipeline automático?
CMS Manual, este sitio tendrá pocos cambios de catalogo en el tiempo

¿Quién será responsable de mantener los datos actualizados (cliente o desarrollador)?
desarrollador

10. Colección → Página de Colección vs Catálogo

La descripción actual mezcla roles de ambas páginas.
— ¿La página de Colección tiene SEO distinto del Catálogo?
La página de colección tendrá textos más largos y describirá las características transversales a todos los SKU de la colección, hablará de las aplicaciones ideales, ambientes ideales, etc.
La página catálogo mostrará los SKU sin mayor oportunidad de contenidos y SEO.

— ¿Cuántas imágenes de ambiente deben mostrarse? No está definido.
dos

11. Reglas del script complementario (nomenclatura de imágenes)

¿Qué ocurre si el archivo contiene letras además del número?
— ¿Se considera error o se ignora?
existirá la columna error, en este caso se registra error = 1
 
¿Qué pasa si una imagen de ambiente no contiene un tamaño explícito (“x”)?
existirá la columna error, en este caso se registra error = 1


¿Cómo manejar imágenes duplicadas con nombres diferentes?
se registran normalmente 

¿Debe el script validar inconsistencias entre carpetas y el Excel (ej: colección incorrecta)?
si

12. Rendimiento y build

Con hasta 1.300 imágenes, ¿el sitio será estático 100%?
— ¿Aceptamos builds largos (5–15 min)?
SI


¿Queremos lazy-loading en todas las imágenes del catálogo?
hay que sugerir la mejor opcion

¿Hay límite de tamaño total de assets para el hosting?
NO , es deseable optimizar imágenes offline antes de subir cada actualización.

13. Accesibilidad (no definido)

¿Se deben cumplir estándares como WCAG AA?
no

¿Las imágenes deben tener alt text generado automáticamente o provisto manualmente?
automáticamente considerando la colección y el código de SKU

14. Navegación y jerarquía visual

¿Cómo se maneja el estado activo de una línea en el Nav Bar?
sugerir un archivo maestro

¿Qué ocurre cuando un usuario ingresa a una colección desde fuera del sitio vía Google?
— El mega menú debe quedar contextualizado automáticamente.
si

15. Contenido multilenguaje

¿El sitio será solo en español o debe contemplar estructura para inglés más adelante?
solo español

16. Puntos de venta

¿El contenido es estático o se cargará desde una fuente externa?
estático

¿Debe existir un mapa (ej: Google Maps) o solo tarjetas informativas?
Google Maps

17. Blog

¿Se usará markdown con content collections o se mantendrá 100% la estructura del template nextspace-astro?
nextspace-astro is a functional astro web site that is likely using markdown / content collections. We will study deeply that and suggest the best solución for 
easy maintenance and publishing in the future.

¿Se necesita paginación en el índice del blog?
si , el blog index de nextspace-astro sugerido tiene paginación.

18. Mantenimiento futuro

¿Qué pasa cuando se agregan nuevas líneas en el futuro?
— ¿Debe cambiar automáticamente el Nav Bar sin modificar código?
La configuración del Nav Bar será manual, no automático

¿Se debe documentar un proceso estándar para agregar una colección o SKU?
si


#Entregables
Una vez concluido este desarrollo debemos tener:

- Operating web site
- Latest versión of the cms Excel
- scripts that read the cms Excel and créate the required files in the Astro structure
- developement documentation
- instructions to deploy in netlify
- other suggested documentation







[fin de documento]













