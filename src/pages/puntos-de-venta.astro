---
import Base from '@/layouts/Base.astro';
import PageHeader from '@/partials/PageHeader.astro';

const title = 'Puntos de Venta';
const description = 'Encuentra nuestros puntos de venta en Chile. Visítanos para conocer personalmente nuestras colecciones de papeles murales.';

// Store locations data
const stores = [
  {
    name: 'Tienda Santiago Centro',
    address: 'Av. Libertador Bernardo O\'Higgins 1234',
    city: 'Santiago',
    region: 'Región Metropolitana',
    phone: '+56 2 2345 6789',
    email: 'santiago@decomural.cl',
    hours: 'Lunes a Viernes: 9:00 - 19:00<br>Sábado: 10:00 - 14:00',
    mapUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.1234567890!2d-70.6482!3d-33.4372!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzPCsDI2JzE0LjAiUyA3MMKwMzgnNTMuNSJX!5e0!3m2!1sen!2scl!4v1234567890123!5m2!1sen!2scl'
  },
  {
    name: 'Tienda Providencia',
    address: 'Av. Providencia 2345',
    city: 'Providencia',
    region: 'Región Metropolitana',
    phone: '+56 2 2456 7890',
    email: 'providencia@decomural.cl',
    hours: 'Lunes a Viernes: 9:00 - 19:00<br>Sábado: 10:00 - 14:00',
    mapUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.1234567890!2d-70.6482!3d-33.4372!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzPCsDI2JzE0LjAiUyA3MMKwMzgnNTMuNSJX!5e0!3m2!1sen!2scl!4v1234567890123!5m2!1sen!2scl'
  },
  {
    name: 'Tienda Viña del Mar',
    address: 'Av. Valparaíso 3456',
    city: 'Viña del Mar',
    region: 'Región de Valparaíso',
    phone: '+56 32 2567 8901',
    email: 'vina@decomural.cl',
    hours: 'Lunes a Viernes: 9:00 - 19:00<br>Sábado: 10:00 - 14:00',
    mapUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.1234567890!2d-71.5518!3d-33.0245!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzPCsDAxJzI4LjIiUyA3McKwMzMnMDYuNSJX!5e0!3m2!1sen!2scl!4v1234567890123!5m2!1sen!2scl'
  }
];
---

<Base title={title} description={description}>
  <PageHeader title={title} />

  <!-- Intro Section -->
  <section class="section pt-8 md:pt-12">
    <div class="container max-w-4xl text-center">
      <p class="text-lg md:text-xl text-gray-600 leading-relaxed">
        Visita nuestros puntos de venta para conocer de cerca nuestras colecciones de papeles murales.
        Nuestro equipo estará encantado de asesorarte y ayudarte a encontrar el diseño perfecto para tu espacio.
      </p>
    </div>
  </section>

  <!-- Store Locations -->
  <section class="section pt-8 md:pt-12">
    <div class="container">
      <h2 class="text-3xl font-bold text-center mb-12 uppercase tracking-wide">
        Nuestras Tiendas
      </h2>

      <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8">
        {stores.map((store, index) => (
          <div
            class="store-card bg-white border-2 border-gray-200 rounded-lg p-6 hover:border-primary transition-colors"
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            <h3 class="text-xl font-bold mb-4 text-primary">{store.name}</h3>

            <div class="store-info space-y-3 text-sm text-gray-700">
              <!-- Address -->
              <div class="flex items-start gap-3">
                <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <div>
                  <p class="font-medium">{store.address}</p>
                  <p class="text-gray-600">{store.city}, {store.region}</p>
                </div>
              </div>

              <!-- Phone -->
              <div class="flex items-center gap-3">
                <svg class="w-5 h-5 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
                <a href={`tel:${store.phone.replace(/\s/g, '')}`} class="hover:text-primary transition-colors">
                  {store.phone}
                </a>
              </div>

              <!-- Email -->
              <div class="flex items-center gap-3">
                <svg class="w-5 h-5 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
                <a href={`mailto:${store.email}`} class="hover:text-primary transition-colors">
                  {store.email}
                </a>
              </div>

              <!-- Hours -->
              <div class="flex items-start gap-3">
                <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <div set:html={store.hours} />
              </div>
            </div>

            <!-- Map Link -->
            <a
              href={`https://maps.google.com/?q=${encodeURIComponent(store.address + ', ' + store.city)}`}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block mt-6 px-4 py-2 bg-primary text-white text-xs uppercase tracking-wider font-semibold rounded hover:bg-opacity-90 transition-all"
            >
              Ver en Google Maps →
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Google Maps Section -->
  <section class="section pt-8 md:pt-12 bg-gray-50">
    <div class="container">
      <h2 class="text-3xl font-bold text-center mb-8 uppercase tracking-wide">
        Ubicación Principal
      </h2>

      <div class="max-w-5xl mx-auto">
        <div class="map-container rounded-lg overflow-hidden shadow-lg" style="position: relative; padding-bottom: 56.25%; height: 0;">
          <iframe
            src={stores[0].mapUrl}
            width="100%"
            height="100%"
            style="position: absolute; top: 0; left: 0; border: 0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>

      <p class="text-center text-gray-600 mt-8 max-w-2xl mx-auto">
        Estamos ubicados en el corazón de Santiago.
        Te esperamos para mostrarte nuestras colecciones y ayudarte a transformar tus espacios.
      </p>
    </div>
  </section>

  <!-- Contact CTA -->
  <section class="section py-16 bg-gray-900 text-white">
    <div class="container max-w-3xl text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">
        ¿Necesitas Asesoría Personalizada?
      </h2>
      <p class="text-lg text-gray-300 mb-8">
        Contáctanos y nuestro equipo te ayudará a encontrar el papel mural perfecto para tu proyecto.
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <a
          href="tel:+56223456789"
          class="inline-block px-8 py-4 bg-white text-gray-900 font-semibold uppercase tracking-wider text-sm hover:bg-gray-100 transition-all shadow-lg"
        >
          Llamar Ahora
        </a>
        <a
          href="mailto:contacto@decomural.cl"
          class="inline-block px-8 py-4 bg-primary text-white font-semibold uppercase tracking-wider text-sm hover:bg-opacity-90 transition-all shadow-lg"
        >
          Enviar Email
        </a>
      </div>
    </div>
  </section>
</Base>

<style>
  .store-card {
    transition: all 0.3s ease;
  }

  .store-card:hover {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    transform: translateY(-5px);
  }

  .store-info a {
    word-break: break-word;
  }

  @media (max-width: 768px) {
    .map-container {
      padding-bottom: 75%;
    }
  }
</style>
